# ============================================
# Markdown 搜索引擎配置文件示例
# ============================================
# 复制此文件为 .env 并根据实际情况修改配置值

# --------------------------------------------
# 必需配置
# --------------------------------------------

# Markdown 文档根目录路径（必需）
# 此目录必须存在，系统将递归扫描其中的所有 .md 文件
# 示例: /home/user/documents 或 ./docs
MD_ROOT=/path/to/markdown/docs

# SQLite 数据库文件路径（可选，默认: ./data/md_search.db）
# 数据库文件的父目录必须存在
# 如果数据库文件不存在，系统会自动创建
DB_PATH=./data/md_search.db

# --------------------------------------------
# 日志配置
# --------------------------------------------

# 日志级别（可选，默认: INFO）
# 有效值: DEBUG, INFO, WARNING, ERROR, CRITICAL
# DEBUG - 详细的调试信息
# INFO - 一般信息（推荐用于生产环境）
# WARNING - 警告信息
# ERROR - 错误信息
# CRITICAL - 严重错误
LOG_LEVEL=INFO

# --------------------------------------------
# 搜索配置
# --------------------------------------------

# 默认搜索结果数量（可选，默认: 20）
DEFAULT_LIMIT=20

# 搜索结果最大数量限制（可选，默认: 100）
# 范围: 1-1000
# 过大的值可能影响性能
MAX_SEARCH_LIMIT=100

# 搜索结果高亮片段的 token 数量（可选，默认: 10）
# 范围: 1-100
# 控制搜索结果摘要中显示的上下文长度
SNIPPET_TOKENS=10

# --------------------------------------------
# FTS5 配置
# --------------------------------------------

# FTS5 分词器配置（可选，默认: unicode61 remove_diacritics 1）
# 支持中文和多语言搜索
FTS_TOKENIZER=unicode61 remove_diacritics 1

# --------------------------------------------
# 文件监控配置
# --------------------------------------------

# 是否递归监控子目录（可选，默认: true）
# true - 监控所有子目录
# false - 仅监控根目录
WATCH_RECURSIVE=true

# --------------------------------------------
# 安全配置
# --------------------------------------------

# CORS 允许的源（可选，默认: *）
# 在生产环境中，应该配置具体的允许源而不是使用 "*"
# 多个源用逗号分隔
# 示例: http://localhost:3000,https://example.com
# 留空或设置为 * 表示允许所有源（仅用于开发环境）
CORS_ORIGINS=*

# ============================================
# 配置说明
# ============================================
# 1. 启动前请确保 MD_ROOT 目录存在
# 2. 确保 DB_PATH 的父目录存在
# 3. 首次启动会自动创建数据库并建立索引
# 4. 修改配置后需要重启应用才能生效
# 5. 生产环境建议配置具体的 CORS_ORIGINS
# 6. 数据库文件权限会自动设置为 600（仅所有者可读写）
# ============================================
